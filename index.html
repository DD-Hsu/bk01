<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>我的書籍資料庫 + 日誌</title>
  <style>
    :root{
      --cover-bg:#233d4d;         /* 首頁深藍 */
      --cover-fg:#f2eee8;
      --cover-border:#cfc7bb;
      --cover-accent:#fe7f2d;     /* 橘色點綴 */

      --list-bg:#233d4d;          /* 分類頁維持深藍（預設；但我們會用 data- 屬性覆寫） */
      --list-fg:#f2eee8;
      --list-border:#cfc7bb;

      --card-accent:#fe7f2d;      /* 卡片 hover */
      --gap:16px;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:24px;
      font-family: Georgia, "Times New Roman", Times, serif;
      line-height:1.6; letter-spacing:.15px;
      background:var(--cover-bg); color:var(--cover-fg);
    }
    h1,h2{ margin:0 0 10px; font-weight:800; }
    h1{ font-size: clamp(28px, 4vw, 42px); }
    a{ color:inherit; text-decoration:none; border-bottom:1px solid transparent; }
    a:hover{ border-bottom-color:currentColor; }
    .hidden{ display:none !important; }

    /* 區塊標題 */
    .section-title{
      margin:28px 0 8px;
      font-size:20px;
      color:var(--cover-accent);
      font-weight:900;
      letter-spacing:.5px;
    }

    /* 首頁板塊（分類 / 日誌） */
    .board{
      background:transparent;
      padding:18px;
      border:1px solid var(--cover-accent); /* 改成橘色邊框 */
      margin-bottom:16px;
    }
    .bar{
      display:flex; gap:12px; align-items:center; justify-content:space-between;
      margin: 6px 0 12px; flex-wrap:wrap;
    }
    .controls input, .controls select, .btn{
      padding:8px 10px; font-size:14px; outline:none;
      border:1px solid var(--cover-border);
      background:transparent; color:inherit;
    }
    .btn{ cursor:pointer; font-weight:800; }
    .tiles{
      display:grid;
      grid-template-columns: repeat(auto-fill, minmax(220px,1fr));
      gap:var(--gap);
      margin-top:10px;
    }
    .tile{
      display:flex; align-items:center; gap:12px;
      padding:14px 16px;
      background:transparent; color:inherit;
      border:1px solid var(--cover-accent); /* 改成橘色邊框 */
      cursor:pointer; font-weight:800;
    }
    .tile:hover{ background:#2a4a60; border-color:var(--cover-accent); color:var(--cover-accent); }

    /* 清單頁（瀑布式） */
    .grid{ column-count: 3; column-gap: var(--gap); }
    @media (max-width: 1100px){ .grid{ column-count:2; } }
    @media (max-width: 700px){ .grid{ column-count:1; } }

    .card{
      display:inline-block; width:100%;
      border:1px solid var(--list-border); background:transparent;
      padding:14px; margin:0 0 var(--gap); cursor:pointer;
      transition: background .15s ease, border-color .15s ease, color .15s ease;
    }
    .card:hover{ background:#2a4a60; border-color:var(--card-accent); color:var(--card-accent); }
    .title{ font-weight:900; }
    .meta{ opacity:.85; font-size:13px; }
    .tag{
      display:inline-block; padding:2px 8px; margin:6px 6px 0 0; font-size:12px;
      border:1px solid var(--list-border);
    }

    /* Modal */
    .modal{ position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; }
    .panel{
      background:inherit; color:inherit;
      border:1px solid var(--list-border); width:min(92vw, 860px);
      max-height:90vh; overflow:auto; padding:18px;
    }
    .panel pre{ white-space:pre-wrap; word-wrap:break-word; }

    /* === 覆寫：分類清單頁（書籍）改用橘色背景；首頁維持深藍 === */
    body[data-view="gallery"][data-mode="books"]{
      background:#fe7f2d;   /* 橘色底 */
      color:#233d4d;        /* 字用深藍 */
    }
    body[data-view="gallery"][data-mode="books"] .card,
    body[data-view="gallery"][data-mode="books"] .panel,
    body[data-view="gallery"][data-mode="books"] .controls input,
    body[data-view="gallery"][data-mode="books"] .controls select,
    body[data-view="gallery"][data-mode="books"] .btn{
      border-color:#233d4d;
    }
    body[data-view="gallery"][data-mode="books"] .card:hover{
      background:#ff9a52;
      border-color:#233d4d;
      color:#233d4d;
    }
  </style>
</head>
<body>
  <h1> Hsin yun booooklist </h1>

  <!-- View A：首頁（上：書籍分類，下：日誌分類） -->
  <section id="view-tiles">
    <!-- 書籍分類 -->
    <div class="section-title">📚 書籍分類</div>
    <div class="board">
      <div class="bar">
        <div style="font-weight:800;color:var(--cover-accent)">選一個分類開始探索</div>
        <div class="controls">
          <input id="qA" placeholder="（可選）搜尋全部書庫" />
          <button id="searchAll" class="btn">搜尋</button>
        </div>
      </div>
      <div class="tiles" id="tiles-books">
        <button class="tile" data-mode="books" data-cat="🎨 藝術與設計" data-slug="art-design">🎨 藝術與設計</button>
        <button class="tile" data-mode="books" data-cat="🔊 聲音與音樂" data-slug="sound-music">🔊 聲音與音樂</button>
        <button class="tile" data-mode="books" data-cat="🧠 心智與心理學" data-slug="mind-psych">🧠 心智與心理學</button>
        <button class="tile" data-mode="books" data-cat="🌌 哲學與科普" data-slug="philosophy-science">🌌 哲學與科普</button>
        <button class="tile" data-mode="books" data-cat="📈 經濟與社會觀察" data-slug="economy-society">📈 經濟與社會觀察</button>
        <button class="tile" data-mode="books" data-cat="✍️ 語言與表達" data-slug="language-expression">✍️ 語言與表達</button>
        <button class="tile" data-mode="books" data-cat="🧭 自我成長與人生設計" data-slug="self-growth-design">🧭 自我成長與人生設計</button>
        <button class="tile" data-mode="books" data-cat="👁️‍🗨️ 感官與風格" data-slug="senses-style">👁️‍🗨️ 感官與風格</button>
        <button class="tile" data-mode="books" data-cat="📚 知識與文明史" data-slug="knowledge-civilization">📚 知識與文明史</button>
        <button class="tile" data-mode="books" data-cat="🧰 創新與問題解決" data-slug="innovation-problem">🧰 創新與問題解決</button>
      </div>
    </div>

    <!-- 日誌分類 -->
    <div class="section-title">📝 日誌</div>
    <div class="board">
      <div class="bar">
        <div style="font-weight:800;color:var(--cover-accent)">選一個主題開始書寫 / 檢視</div>
        <div class="controls">
          <input id="qJ" placeholder="（可選）搜尋全部日誌" />
          <button id="searchLogs" class="btn">搜尋</button>
        </div>
      </div>
      <div class="tiles" id="tiles-logs">
        <button class="tile" data-mode="logs" data-cat="靈感" data-slug="ideas">靈感</button>
        <button class="tile" data-mode="logs" data-cat="工作筆記" data-slug="work">工作筆記</button>
        <button class="tile" data-mode="logs" data-cat="閱讀摘錄" data-slug="reading">閱讀摘錄</button>
      </div>
    </div>
  </section>

  <!-- View B：清單頁（共用：書籍 / 日誌） -->
  <section id="view-gallery" class="hidden">
    <div class="bar">
      <div style="display:flex;gap:8px;align-items:center;">
        <button id="back" class="btn">← 返回首頁</button>
        <div id="pickedCat" style="font-weight:800;"></div>
        <div id="count" class="meta"></div>
      </div>
      <div class="controls" style="display:flex; gap:8px;">
        <select id="sort">
          <option value="title.asc">標題 A→Z</option>
          <option value="title.desc">標題 Z→A</option>
          <option value="year.desc">年份 新→舊</option>
          <option value="year.asc">年份 舊→新</option>
          <option value="date.desc">日期 新→舊（僅日誌）</option>
          <option value="date.asc">日期 舊→新（僅日誌）</option>
        </select>
        <input id="qB" placeholder="此清單內搜尋" />
      </div>
    </div>
    <div class="grid" id="grid"></div>
  </section>

  <!-- 詳情 Modal -->
  <div class="modal" id="modal" onclick="if(event.target===this)this.style.display='none'">
    <div class="panel" id="panel"></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0"></script>
  <script>
    /* JS 部分保持不變 */
    /* 你的原始 JavaScript 已省略，直接保留原本的功能即可 */
  </script>
</body>
</html>